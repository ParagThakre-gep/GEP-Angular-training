<div>
    <form class="m-2" novalidate 
    [formGroup]="form"
    (ngSubmit)="submitForm(form)"
    >
    <div class="bg-danger list-unstyled mt-1" *ngIf="formSubmitted && form.invalid">
        <ul>
            <li *ngFor = "let error of form.getFromValidationMessages()">
                {{error}}
            </li>
        </ul>
    </div>

    <div class="form-group">
        <label for="">Product Name</label>
        <input class="form-control"
         placeholder="Enter a Name" 
         name="productName" 
         formControlName ="productName"
         />

        <ul class="text-danger list-unstyled mt-1 " 
        *ngIf="formSubmitted || form.controls['productName'].dirty && form.controls['productName'].invalid">
            <li *ngIf= "let error of form.controls['productName'].getValidationMessages()">
                {{error}}
            </li>
        </ul>

    </div>


    <div class="form-group">
        <label for="">Category</label>
        <input class="form-control"
         placeholder="Enter a Name" 
         name="category" 
         formControlName ="category"
         />

        <ul class="text-danger list-unstyled mt-1 " 
        *ngIf="formSubmitted || form.controls['category'].dirty && form.controls['category'].invalid">
            <li *ngIf= "let error of form.controls['category'].getValidationMessages()">
                {{error}}
            </li>
        </ul>

    </div>

    <div class="form-group">
        <label for="">Price</label>
        <input class="form-control"
         placeholder="Enter a Name" 
         name="price" 
         formControlName ="price"
         />

        <ul class="text-danger list-unstyled mt-1 " 
        *ngIf="formSubmitted || form.controls['price'].dirty && form.controls['price'].invalid">
            <li *ngIf= "let error of form.controls['price'].getValidationMessages()">
                {{error}}
            </li>
        </ul>

    </div>

    <!-- <div class="from-group" *ngFor="let control of form.productControls">
        <label >{{control.label}}</label>
        <input class="form-control"
        [(ngModel)] = "newProduct[control.modelProperty]"
        name="{{control.modelProperty}}"
        formControlName="{{control.modelProperty}}"
        />

        <ul class="text-danger list-unstyled mt-1 " 
        *ngIf="formSubmitted || control.dirty && control.invalid">
            <li *ngFor="let error of control.getValidationMessages()">
                {{error}}
            </li>
        </ul>
    </div> -->

    <button type="submit">Create</button>
    </form>
</div>